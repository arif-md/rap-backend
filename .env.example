# =============================================================================
# MULTI-SERVICE DEVELOPMENT ENVIRONMENT CONFIGURATION
# =============================================================================
# Copy this file to .env and configure for your local environment
# Never commit .env to version control (it's in .gitignore)

# -----------------------------------------------------------------------------
# Azure Container Registry (ACR) Configuration
# -----------------------------------------------------------------------------
# Your ACR login server (e.g., yourregistry.azurecr.io)
ACR_LOGIN_SERVER=yourregistry.azurecr.io

# ACR credentials (for pulling images from private registry)
# Get these from: az acr credential show --name yourregistry
ACR_USERNAME=yourregistry
ACR_PASSWORD=your-acr-password-here

# -----------------------------------------------------------------------------
# Service Versions (Image Tags)
# -----------------------------------------------------------------------------
# Specify which version of each service to pull
# Use 'latest' for the most recent build, or specific tags like 'v1.0.0', 'dev', 'staging'

FRONTEND_VERSION=latest
BACKEND_VERSION=dev
PROCESS_SERVICE_VERSION=latest

# -----------------------------------------------------------------------------
# Database Configuration
# -----------------------------------------------------------------------------
DB_USERNAME=sa
DB_PASSWORD=YourStrong@Passw0rd

# -----------------------------------------------------------------------------
# Spring Security Configuration
# -----------------------------------------------------------------------------
SPRING_SECURITY_USER_NAME=admin
SPRING_SECURITY_USER_PASSWORD=admin123

# -----------------------------------------------------------------------------
# OIDC Provider Configuration (for OAuth2/OIDC Authentication)
# -----------------------------------------------------------------------------
# OPTION 1: Keycloak (Local Docker Container via docker-compose - Recommended for Local Dev)
# Keycloak runs on port 9090 (configured in docker-compose.yml)
# Access admin console: http://localhost:9090/admin (admin/admin)
# After starting: Create realm 'raptor' and client 'raptor-client' in Keycloak admin console
OIDC_PROVIDER_ISSUER_URI=http://localhost:9090/realms/raptor
OIDC_CLIENT_ID=raptor-client
OIDC_CLIENT_SECRET=your-keycloak-client-secret-from-credentials-tab

# For backend container internal communication (used by backend service)
# OIDC_PROVIDER_ISSUER_URI=http://keycloak:9090/realms/raptor

# OPTION 2: Azure AD (Microsoft Entra ID)
# OIDC_PROVIDER_ISSUER_URI=https://login.microsoftonline.com/{tenant-id}/v2.0
# OIDC_CLIENT_ID=your-azure-app-registration-id
# OIDC_CLIENT_SECRET=your-azure-client-secret

# OPTION 3: Auth0 (https://auth0.com - Free tier available)
# OIDC_PROVIDER_ISSUER_URI=https://dev-xxxxx.us.auth0.com
# OIDC_CLIENT_ID=your-auth0-client-id
# OIDC_CLIENT_SECRET=your-auth0-client-secret

# OPTION 4: Google OAuth
# OIDC_PROVIDER_ISSUER_URI=https://accounts.google.com
# OIDC_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
# OIDC_CLIENT_SECRET=your-google-client-secret

# -----------------------------------------------------------------------------
# JWT Configuration (Your Application Tokens - Not OIDC Tokens)
# -----------------------------------------------------------------------------
# JWT Secret (Base64-encoded - generate with: openssl rand -base64 64)
# IMPORTANT: Use different secret in production (store in Azure Key Vault)
JWT_SECRET=dGhpc2lzYXZlcnlzZWN1cmVzZWNyZXRrZXl0aGF0c2hvdWxkYmVyZXBsYWNlZGluYXp1cmU=

# JWT Access Token Expiration (in minutes)
JWT_ACCESS_TOKEN_EXPIRATION_MINUTES=15

# Refresh Token Expiration (in days)
JWT_REFRESH_TOKEN_EXPIRATION_DAYS=7

# -----------------------------------------------------------------------------
# Frontend Configuration
# -----------------------------------------------------------------------------
FRONTEND_URL=http://localhost:4200
CORS_ALLOWED_ORIGINS=http://localhost:4200,http://localhost:3000

# Backend API URL for frontend runtime configuration
# Use http://localhost:8080 for browser-based requests from host machine
API_BASE_URL=http://localhost:8080

# -----------------------------------------------------------------------------
# Spring Profile
# -----------------------------------------------------------------------------
SPRING_PROFILES_ACTIVE=docker

# -----------------------------------------------------------------------------
# Application Port Mappings (for host access)
# -----------------------------------------------------------------------------
FRONTEND_PORT=4200
BACKEND_PORT=8080
PROCESS_SERVICE_PORT=8090
DATABASE_PORT=1433
KEYCLOAK_PORT=9090

# -----------------------------------------------------------------------------
# Keycloak Configuration (for local docker-compose setup)
# -----------------------------------------------------------------------------
KEYCLOAK_ADMIN=admin
KEYCLOAK_ADMIN_PASSWORD=admin
KEYCLOAK_DB_USER=keycloak
KEYCLOAK_DB_PASSWORD=keycloak
