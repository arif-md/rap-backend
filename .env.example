# =============================================================================
# MULTI-SERVICE DEVELOPMENT ENVIRONMENT CONFIGURATION
# =============================================================================
# Copy this file to .env and configure for your local environment
# Never commit .env to version control (it's in .gitignore)

# -----------------------------------------------------------------------------
# Azure Container Registry (ACR) Configuration
# -----------------------------------------------------------------------------
# Your ACR login server (e.g., yourregistry.azurecr.io)
ACR_LOGIN_SERVER=yourregistry.azurecr.io

# ACR credentials (for pulling images from private registry)
# Get these from: az acr credential show --name yourregistry
ACR_USERNAME=yourregistry
ACR_PASSWORD=your-acr-password-here

# -----------------------------------------------------------------------------
# Service Versions (Image Tags)
# -----------------------------------------------------------------------------
# Specify which version of each service to pull
# Use 'latest' for the most recent build, or specific tags like 'v1.0.0', 'dev', 'staging'

FRONTEND_VERSION=latest
BACKEND_VERSION=dev
PROCESS_SERVICE_VERSION=latest

# -----------------------------------------------------------------------------
# Database Configuration
# -----------------------------------------------------------------------------
DB_USERNAME=sa
DB_PASSWORD=YourStrong@Passw0rd

# -----------------------------------------------------------------------------
# Spring Security Configuration
# -----------------------------------------------------------------------------
SPRING_SECURITY_USER_NAME=admin
SPRING_SECURITY_USER_PASSWORD=admin123

# -----------------------------------------------------------------------------
# OIDC Provider Configuration (for OAuth2/OIDC Authentication)
# -----------------------------------------------------------------------------
# OPTION 1: Keycloak (Local Docker Container - Recommended for Local Dev)
# Run: docker run -p 8180:8080 -e KEYCLOAK_ADMIN=admin -e KEYCLOAK_ADMIN_PASSWORD=admin quay.io/keycloak/keycloak:latest start-dev
# Then create realm 'raptor' and client 'raptor-backend' in Keycloak admin console
OIDC_ISSUER_URI=http://localhost:8180/realms/raptor
OIDC_CLIENT_ID=raptor-backend
OIDC_CLIENT_SECRET=your-keycloak-client-secret
OIDC_REDIRECT_URI=http://localhost:8080/auth/callback

# OPTION 2: Auth0 (https://auth0.com - Free tier available)
# OIDC_ISSUER_URI=https://dev-xxxxx.us.auth0.com
# OIDC_CLIENT_ID=your-auth0-client-id
# OIDC_CLIENT_SECRET=your-auth0-client-secret

# OPTION 3: Google OAuth
# OIDC_ISSUER_URI=https://accounts.google.com
# OIDC_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
# OIDC_CLIENT_SECRET=your-google-client-secret

# -----------------------------------------------------------------------------
# JWT Configuration (Your Application Tokens - Not OIDC Tokens)
# -----------------------------------------------------------------------------
# JWT Secret (Base64-encoded - generate with: openssl rand -base64 64)
# IMPORTANT: Use different secret in production (store in Azure Key Vault)
JWT_SECRET=dGhpc2lzYXZlcnlzZWN1cmVzZWNyZXRrZXl0aGF0c2hvdWxkYmVyZXBsYWNlZGluYXp1cmU=

# JWT Access Token Expiration (in minutes)
JWT_ACCESS_TOKEN_EXPIRATION_MINUTES=15

# Refresh Token Expiration (in days)
JWT_REFRESH_TOKEN_EXPIRATION_DAYS=7

# -----------------------------------------------------------------------------
# Frontend Configuration
# -----------------------------------------------------------------------------
FRONTEND_URL=http://localhost:4200
CORS_ALLOWED_ORIGINS=http://localhost:4200,http://localhost:3000

# -----------------------------------------------------------------------------
# Spring Profile
# -----------------------------------------------------------------------------
SPRING_PROFILES_ACTIVE=docker

# -----------------------------------------------------------------------------
# Application Port Mappings (for host access)
# -----------------------------------------------------------------------------
FRONTEND_PORT=4200
BACKEND_PORT=8080
PROCESS_SERVICE_PORT=8090
DATABASE_PORT=1433
